<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta charset="utf-8">
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="-1" />
<!--
   Note to customizers: the body of the webrev is IDed as SUNWwebrev
   to allow easy overriding by users of webrev via the userContent.css
   mechanism available in some browsers.

   For example, to have all "removed" information be red instead of
   brown, set a rule in your userContent.css file like:

       body#SUNWwebrev span.removed { color: red ! important; }
-->
<style type="text/css" media="screen">
body {
    background-color: #eeeeee;
}
hr {
    border: none 0;
    border-top: 1px solid #aaa;
    height: 1px;
}
div.summary {
    font-size: .8em;
    border-bottom: 1px solid #aaa;
    padding-left: 1em;
    padding-right: 1em;
}
div.summary h2 {
    margin-bottom: 0.3em;
}
div.summary table th {
    text-align: right;
    vertical-align: top;
    white-space: nowrap;
}
span.lineschanged {
    font-size: 0.7em;
}
span.oldmarker {
    color: red;
    font-size: large;
    font-weight: bold;
}
span.newmarker {
    color: green;
    font-size: large;
    font-weight: bold;
}
span.removed {
    color: brown;
}
span.changed {
    color: blue;
}
span.new {
    color: blue;
    font-weight: bold;
}
a.print { font-size: x-small; }

</style>

<style type="text/css" media="print">
pre { font-size: 0.8em; font-family: courier, monospace; }
span.removed { color: #444; font-style: italic }
span.changed { font-weight: bold; }
span.new { font-weight: bold; }
span.newmarker { font-size: 1.2em; font-weight: bold; }
span.oldmarker { font-size: 1.2em; font-weight: bold; }
a.print {display: none}
hr { border: none 0; border-top: 1px solid #aaa; height: 1px; }
</style>

<title>hotspot Cdiff src/jdk.vm.ci/share/classes/jdk.vm.ci.meta/src/jdk/vm/ci/meta/JavaKind.java</title>
</head>
<body id="SUNWwebrev">
<center><a href='../../../../../../../../../../src/jdk.vm.ci/share/classes/jdk.vm.ci.meta/src/jdk/vm/ci/meta/JavaConstant.java.cdiff.html' target='_top'>&lt prev</a> <a href='../../../../../../../../../../index.html' target='_top'>index</a> <a href='../../../../../../../../../../src/jdk.vm.ci/share/classes/jdk.vm.ci.meta/src/jdk/vm/ci/meta/JavaType.java.cdiff.html' target='_top'>next &gt</a></center>
<h2>src/jdk.vm.ci/share/classes/jdk.vm.ci.meta/src/jdk/vm/ci/meta/JavaKind.java</h2>
        <a class="print" href="javascript:print()">Print this page</a>
<pre></pre>
        <pre>
<hr /><span class="oldmarker">*** 31,68 ****</span>
   * {@link JavaKind#Int} for {@code int} and {@link JavaKind#Object} for all object types. A kind has
   * a single character short name, a Java name, and a set of flags further describing its behavior.
   */
  public enum JavaKind {
      /** The primitive boolean kind, represented as an int on the stack. */
<span class="changed">!     Boolean('z', "boolean", 1, true, java.lang.Boolean.TYPE, java.lang.Boolean.class),</span>
  
      /** The primitive byte kind, represented as an int on the stack. */
<span class="changed">!     Byte('b', "byte", 1, true, java.lang.Byte.TYPE, java.lang.Byte.class),</span>
  
      /** The primitive short kind, represented as an int on the stack. */
<span class="changed">!     Short('s', "short", 1, true, java.lang.Short.TYPE, java.lang.Short.class),</span>
  
      /** The primitive char kind, represented as an int on the stack. */
<span class="changed">!     Char('c', "char", 1, true, java.lang.Character.TYPE, java.lang.Character.class),</span>
  
      /** The primitive int kind, represented as an int on the stack. */
<span class="changed">!     Int('i', "int", 1, true, java.lang.Integer.TYPE, java.lang.Integer.class),</span>
  
      /** The primitive float kind. */
<span class="changed">!     Float('f', "float", 1, false, java.lang.Float.TYPE, java.lang.Float.class),</span>
  
      /** The primitive long kind. */
<span class="changed">!     Long('j', "long", 2, false, java.lang.Long.TYPE, java.lang.Long.class),</span>
  
      /** The primitive double kind. */
<span class="changed">!     Double('d', "double", 2, false, java.lang.Double.TYPE, java.lang.Double.class),</span>
  
      /** The Object kind, also used for arrays. */
<span class="changed">!     Object('a', "Object", 1, false, null, null),</span>
  
<span class="changed">!     /** The void float kind. */</span>
<span class="changed">!     Void('v', "void", 0, false, java.lang.Void.TYPE, java.lang.Void.class),</span>
  
      /** The non-type. */
      Illegal('-', "illegal", 0, false, null, null);
  
      private final char typeChar;
<span class="newmarker">--- 31,68 ----</span>
   * {@link JavaKind#Int} for {@code int} and {@link JavaKind#Object} for all object types. A kind has
   * a single character short name, a Java name, and a set of flags further describing its behavior.
   */
  public enum JavaKind {
      /** The primitive boolean kind, represented as an int on the stack. */
<span class="changed">!     Boolean('Z', "boolean", 1, true, java.lang.Boolean.TYPE, java.lang.Boolean.class),</span>
  
      /** The primitive byte kind, represented as an int on the stack. */
<span class="changed">!     Byte('B', "byte", 1, true, java.lang.Byte.TYPE, java.lang.Byte.class),</span>
  
      /** The primitive short kind, represented as an int on the stack. */
<span class="changed">!     Short('S', "short", 1, true, java.lang.Short.TYPE, java.lang.Short.class),</span>
  
      /** The primitive char kind, represented as an int on the stack. */
<span class="changed">!     Char('C', "char", 1, true, java.lang.Character.TYPE, java.lang.Character.class),</span>
  
      /** The primitive int kind, represented as an int on the stack. */
<span class="changed">!     Int('I', "int", 1, true, java.lang.Integer.TYPE, java.lang.Integer.class),</span>
  
      /** The primitive float kind. */
<span class="changed">!     Float('F', "float", 1, false, java.lang.Float.TYPE, java.lang.Float.class),</span>
  
      /** The primitive long kind. */
<span class="changed">!     Long('J', "long", 2, false, java.lang.Long.TYPE, java.lang.Long.class),</span>
  
      /** The primitive double kind. */
<span class="changed">!     Double('D', "double", 2, false, java.lang.Double.TYPE, java.lang.Double.class),</span>
  
      /** The Object kind, also used for arrays. */
<span class="changed">!     Object('A', "Object", 1, false, null, null),</span>
  
<span class="changed">!     /** The void kind. */</span>
<span class="changed">!     Void('V', "void", 0, false, java.lang.Void.TYPE, java.lang.Void.class),</span>
  
      /** The non-type. */
      Illegal('-', "illegal", 0, false, null, null);
  
      private final char typeChar;
<hr /><span class="oldmarker">*** 96,106 ****</span>
      public boolean needsTwoSlots() {
          return this.slotCount == 2;
      }
  
      /**
<span class="changed">!      * Returns the name of the kind as a single character.</span>
       */
      public char getTypeChar() {
          return typeChar;
      }
  
<span class="newmarker">--- 96,110 ----</span>
      public boolean needsTwoSlots() {
          return this.slotCount == 2;
      }
  
      /**
<span class="changed">!      * Returns the name of the kind as a single upper case character. For the void and primitive</span>
<span class="changed">!      * kinds, this is the &lt;i&gt;FieldType&lt;/i&gt; term in</span>
<span class="changed">!      * &lt;a href="https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.3.2-200"&gt;</span>
<span class="changed">!      * table 4.3-A&lt;/a&gt; of the JVM Specification. For {@link #Object}, the character {@code 'A'} is</span>
<span class="changed">!      * returned and for {@link #Illegal}, {@code '-'} is returned.</span>
       */
      public char getTypeChar() {
          return typeChar;
      }
  
<hr /><span class="oldmarker">*** 202,212 ****</span>
      }
  
      /**
       * Returns the kind from the character describing a primitive or void.
       *
<span class="changed">!      * @param ch the character</span>
       * @return the kind
       */
      public static JavaKind fromPrimitiveOrVoidTypeChar(char ch) {
          switch (ch) {
              case 'Z':
<span class="newmarker">--- 206,216 ----</span>
      }
  
      /**
       * Returns the kind from the character describing a primitive or void.
       *
<span class="changed">!      * @param ch the character for a void or primitive kind as returned by {@link #getTypeChar()}</span>
       * @return the kind
       */
      public static JavaKind fromPrimitiveOrVoidTypeChar(char ch) {
          switch (ch) {
              case 'Z':
<hr /><span class="oldmarker">*** 367,379 ****</span>
          }
          return buf.append('}').toString();
      }
  
      /**
<span class="changed">!      * The minimum value that can be represented as a value of this kind.</span>
       *
<span class="changed">!      * @return the minimum value</span>
       */
      public long getMinValue() {
          switch (this) {
              case Boolean:
                  return 0;
<span class="newmarker">--- 371,383 ----</span>
          }
          return buf.append('}').toString();
      }
  
      /**
<span class="changed">!      * Gets the minimum value that can be represented as a value of this kind.</span>
       *
<span class="changed">!      * @return the minimum value represented as a {@code long}</span>
       */
      public long getMinValue() {
          switch (this) {
              case Boolean:
                  return 0;
<hr /><span class="oldmarker">*** 385,403 ****</span>
                  return java.lang.Short.MIN_VALUE;
              case Int:
                  return java.lang.Integer.MIN_VALUE;
              case Long:
                  return java.lang.Long.MIN_VALUE;
              default:
                  throw new IllegalArgumentException("illegal call to minValue on " + this);
          }
      }
  
      /**
<span class="changed">!      * The maximum value that can be represented as a value of this kind.</span>
       *
<span class="changed">!      * @return the maximum value</span>
       */
      public long getMaxValue() {
          switch (this) {
              case Boolean:
                  return 1;
<span class="newmarker">--- 389,411 ----</span>
                  return java.lang.Short.MIN_VALUE;
              case Int:
                  return java.lang.Integer.MIN_VALUE;
              case Long:
                  return java.lang.Long.MIN_VALUE;
<span class="new">+             case Float:</span>
<span class="new">+                 return java.lang.Float.floatToRawIntBits(java.lang.Float.MIN_VALUE);</span>
<span class="new">+             case Double:</span>
<span class="new">+                 return java.lang.Double.doubleToRawLongBits(java.lang.Double.MIN_VALUE);</span>
              default:
                  throw new IllegalArgumentException("illegal call to minValue on " + this);
          }
      }
  
      /**
<span class="changed">!      * Gets the maximum value that can be represented as a value of this kind.</span>
       *
<span class="changed">!      * @return the maximum value represented as a {@code long}</span>
       */
      public long getMaxValue() {
          switch (this) {
              case Boolean:
                  return 1;
<hr /><span class="oldmarker">*** 409,418 ****</span>
<span class="newmarker">--- 417,430 ----</span>
                  return java.lang.Short.MAX_VALUE;
              case Int:
                  return java.lang.Integer.MAX_VALUE;
              case Long:
                  return java.lang.Long.MAX_VALUE;
<span class="new">+             case Float:</span>
<span class="new">+                 return java.lang.Float.floatToRawIntBits(java.lang.Float.MAX_VALUE);</span>
<span class="new">+             case Double:</span>
<span class="new">+                 return java.lang.Double.doubleToRawLongBits(java.lang.Double.MAX_VALUE);</span>
              default:
                  throw new IllegalArgumentException("illegal call to maxValue on " + this);
          }
      }
  
</pre>
<center><a href='../../../../../../../../../../src/jdk.vm.ci/share/classes/jdk.vm.ci.meta/src/jdk/vm/ci/meta/JavaConstant.java.cdiff.html' target='_top'>&lt prev</a> <a href='../../../../../../../../../../index.html' target='_top'>index</a> <a href='../../../../../../../../../../src/jdk.vm.ci/share/classes/jdk.vm.ci.meta/src/jdk/vm/ci/meta/JavaType.java.cdiff.html' target='_top'>next &gt</a></center>
</body></html>

