<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="-1" />
<!--
   Note to customizers: the body of the webrev is IDed as SUNWwebrev
   to allow easy overriding by users of webrev via the userContent.css
   mechanism available in some browsers.

   For example, to have all "removed" information be red instead of
   brown, set a rule in your userContent.css file like:

       body#SUNWwebrev span.removed { color: red ! important; }
-->
<style type="text/css" media="screen">
body {
    background-color: #eeeeee;
}
hr {
    border: none 0;
    border-top: 1px solid #aaa;
    height: 1px;
}
div.summary {
    font-size: .8em;
    border-bottom: 1px solid #aaa;
    padding-left: 1em;
    padding-right: 1em;
}
div.summary h2 {
    margin-bottom: 0.3em;
}
div.summary table th {
    text-align: right;
    vertical-align: top;
    white-space: nowrap;
}
span.lineschanged {
    font-size: 0.7em;
}
span.oldmarker {
    color: red;
    font-size: large;
    font-weight: bold;
}
span.newmarker {
    color: green;
    font-size: large;
    font-weight: bold;
}
span.removed {
    color: brown;
}
span.changed {
    color: blue;
}
span.new {
    color: blue;
    font-weight: bold;
}
a.print { font-size: x-small; }

</style>

<style type="text/css" media="print">
pre { font-size: 0.8em; font-family: courier, monospace; }
span.removed { color: #444; font-style: italic }
span.changed { font-weight: bold; }
span.new { font-weight: bold; }
span.newmarker { font-size: 1.2em; font-weight: bold; }
span.oldmarker { font-size: 1.2em; font-weight: bold; }
a.print {display: none}
hr { border: none 0; border-top: 1px solid #aaa; height: 1px; }
</style>

<title>hotspot Sdiff src/jdk.vm.ci/share/classes/jdk.vm.ci.aarch64/src/jdk/vm/ci/aarch64 </title>
</head><body id="SUNWwebrev">
<h2>src/jdk.vm.ci/share/classes/jdk.vm.ci.aarch64/src/jdk/vm/ci/aarch64/AArch64.java</h2>
<a class="print" href="javascript:print()">Print this page</a>
<pre></pre>

<table><tr valign="top">
<td><pre>

</pre><hr></hr><pre>
  59     public static final Register r17 = new Register(17, 17, "r17", CPU);
  60     public static final Register r18 = new Register(18, 18, "r18", CPU);
  61     public static final Register r19 = new Register(19, 19, "r19", CPU);
  62     public static final Register r20 = new Register(20, 20, "r20", CPU);
  63     public static final Register r21 = new Register(21, 21, "r21", CPU);
  64     public static final Register r22 = new Register(22, 22, "r22", CPU);
  65     public static final Register r23 = new Register(23, 23, "r23", CPU);
  66     public static final Register r24 = new Register(24, 24, "r24", CPU);
  67     public static final Register r25 = new Register(25, 25, "r25", CPU);
  68     public static final Register r26 = new Register(26, 26, "r26", CPU);
  69     public static final Register r27 = new Register(27, 27, "r27", CPU);
  70     public static final Register r28 = new Register(28, 28, "r28", CPU);
  71     public static final Register r29 = new Register(29, 29, "r29", CPU);
  72     public static final Register r30 = new Register(30, 30, "r30", CPU);
  73     public static final Register r31 = new Register(31, 31, "r31", CPU);
  74 
  75     public static final Register lr = r30;
  76     public static final Register zr = r31;
  77     public static final Register sp = r31;
  78 
<span class="removed">  79     public static final Register[] cpuRegisters = {</span>
  80         // @formatter:off

  81         r0,  r1,  r2,  r3,  r4,  r5,  r6,  r7,
  82         r8,  r9,  r10, r11, r12, r13, r14, r15,
  83         r16, r17, r18, r19, r20, r21, r22, r23,
  84         r24, r25, r26, r27, r28, r29, r30, r31
<span class="removed">  85         // @formatter:on</span>
  86     };

  87 
  88     public static final RegisterCategory SIMD = new RegisterCategory("SIMD");
  89 
  90     // Simd registers
  91     public static final Register v0 = new Register(32, 0, "v0", SIMD);
  92     public static final Register v1 = new Register(33, 1, "v1", SIMD);
  93     public static final Register v2 = new Register(34, 2, "v2", SIMD);
  94     public static final Register v3 = new Register(35, 3, "v3", SIMD);
  95     public static final Register v4 = new Register(36, 4, "v4", SIMD);
  96     public static final Register v5 = new Register(37, 5, "v5", SIMD);
  97     public static final Register v6 = new Register(38, 6, "v6", SIMD);
  98     public static final Register v7 = new Register(39, 7, "v7", SIMD);
  99     public static final Register v8 = new Register(40, 8, "v8", SIMD);
 100     public static final Register v9 = new Register(41, 9, "v9", SIMD);
 101     public static final Register v10 = new Register(42, 10, "v10", SIMD);
 102     public static final Register v11 = new Register(43, 11, "v11", SIMD);
 103     public static final Register v12 = new Register(44, 12, "v12", SIMD);
 104     public static final Register v13 = new Register(45, 13, "v13", SIMD);
 105     public static final Register v14 = new Register(46, 14, "v14", SIMD);
 106     public static final Register v15 = new Register(47, 15, "v15", SIMD);
 107     public static final Register v16 = new Register(48, 16, "v16", SIMD);
 108     public static final Register v17 = new Register(49, 17, "v17", SIMD);
 109     public static final Register v18 = new Register(50, 18, "v18", SIMD);
 110     public static final Register v19 = new Register(51, 19, "v19", SIMD);
 111     public static final Register v20 = new Register(52, 20, "v20", SIMD);
 112     public static final Register v21 = new Register(53, 21, "v21", SIMD);
 113     public static final Register v22 = new Register(54, 22, "v22", SIMD);
 114     public static final Register v23 = new Register(55, 23, "v23", SIMD);
 115     public static final Register v24 = new Register(56, 24, "v24", SIMD);
 116     public static final Register v25 = new Register(57, 25, "v25", SIMD);
 117     public static final Register v26 = new Register(58, 26, "v26", SIMD);
 118     public static final Register v27 = new Register(59, 27, "v27", SIMD);
 119     public static final Register v28 = new Register(60, 28, "v28", SIMD);
 120     public static final Register v29 = new Register(61, 29, "v29", SIMD);
 121     public static final Register v30 = new Register(62, 30, "v30", SIMD);
 122     public static final Register v31 = new Register(63, 31, "v31", SIMD);
 123 
<span class="removed"> 124     public static final Register[] simdRegisters = {</span>
 125         // @formatter:off

 126         v0,  v1,  v2,  v3,  v4,  v5,  v6,  v7,
 127         v8,  v9,  v10, v11, v12, v13, v14, v15,
 128         v16, v17, v18, v19, v20, v21, v22, v23,
 129         v24, v25, v26, v27, v28, v29, v30, v31
<span class="removed"> 130         // @formatter:on</span>
 131     };

 132 
<span class="removed"> 133     public static final Register[] allRegisters = {</span>
 134         // @formatter:off

 135         r0,  r1,  r2,  r3,  r4,  r5,  r6,  r7,
 136         r8,  r9,  r10, r11, r12, r13, r14, r15,
 137         r16, r17, r18, r19, r20, r21, r22, r23,
 138         r24, r25, r26, r27, r28, r29, r30, r31,
 139 
 140         v0,  v1,  v2,  v3,  v4,  v5,  v6,  v7,
 141         v8,  v9,  v10, v11, v12, v13, v14, v15,
 142         v16, v17, v18, v19, v20, v21, v22, v23,
 143         v24, v25, v26, v27, v28, v29, v30, v31
<span class="removed"> 144         // @formatter:on</span>
 145     };

 146 
 147     /**
 148      * Basic set of CPU features mirroring what is returned from the cpuid instruction. See:
 149      * {@code VM_Version::cpuFeatureFlags}.
 150      */
<span class="changed"> 151     public static enum CPUFeature {</span>
 152         FP,
 153         ASIMD,
 154         EVTSTRM,
 155         AES,
 156         PMULL,
 157         SHA1,
 158         SHA2,
 159         CRC32,
 160         A53MAC,
 161         DMB_ATOMICS
 162     }
 163 
 164     private final EnumSet&lt;CPUFeature&gt; features;
 165 
 166     /**
 167      * Set of flags to control code emission.
 168      */
<span class="changed"> 169     public static enum Flag {</span>
 170         UseBarriersForVolatile,
 171         UseCRC32,
 172         UseNeon
 173     }
 174 
 175     private final EnumSet&lt;Flag&gt; flags;
 176 
 177     public AArch64(EnumSet&lt;CPUFeature&gt; features, EnumSet&lt;Flag&gt; flags) {
 178         super("aarch64", AArch64Kind.QWORD, ByteOrder.LITTLE_ENDIAN, true, allRegisters, 0, 0, 0);
 179         this.features = features;
 180         this.flags = flags;
 181     }
 182 
 183     public EnumSet&lt;CPUFeature&gt; getFeatures() {
 184         return features;
 185     }
 186 
 187     public EnumSet&lt;Flag&gt; getFlags() {
 188         return flags;
 189     }

</pre><hr></hr>
</pre></td><td><pre>

</pre><hr></hr><pre>
  59     public static final Register r17 = new Register(17, 17, "r17", CPU);
  60     public static final Register r18 = new Register(18, 18, "r18", CPU);
  61     public static final Register r19 = new Register(19, 19, "r19", CPU);
  62     public static final Register r20 = new Register(20, 20, "r20", CPU);
  63     public static final Register r21 = new Register(21, 21, "r21", CPU);
  64     public static final Register r22 = new Register(22, 22, "r22", CPU);
  65     public static final Register r23 = new Register(23, 23, "r23", CPU);
  66     public static final Register r24 = new Register(24, 24, "r24", CPU);
  67     public static final Register r25 = new Register(25, 25, "r25", CPU);
  68     public static final Register r26 = new Register(26, 26, "r26", CPU);
  69     public static final Register r27 = new Register(27, 27, "r27", CPU);
  70     public static final Register r28 = new Register(28, 28, "r28", CPU);
  71     public static final Register r29 = new Register(29, 29, "r29", CPU);
  72     public static final Register r30 = new Register(30, 30, "r30", CPU);
  73     public static final Register r31 = new Register(31, 31, "r31", CPU);
  74 
  75     public static final Register lr = r30;
  76     public static final Register zr = r31;
  77     public static final Register sp = r31;
  78 

  79     // @formatter:off
<span class="new">  80     public static final Register[] cpuRegisters = {</span>
  81         r0,  r1,  r2,  r3,  r4,  r5,  r6,  r7,
  82         r8,  r9,  r10, r11, r12, r13, r14, r15,
  83         r16, r17, r18, r19, r20, r21, r22, r23,
  84         r24, r25, r26, r27, r28, r29, r30, r31

  85     };
<span class="new">  86     // @formatter:on</span>
  87 
  88     public static final RegisterCategory SIMD = new RegisterCategory("SIMD");
  89 
  90     // Simd registers
  91     public static final Register v0 = new Register(32, 0, "v0", SIMD);
  92     public static final Register v1 = new Register(33, 1, "v1", SIMD);
  93     public static final Register v2 = new Register(34, 2, "v2", SIMD);
  94     public static final Register v3 = new Register(35, 3, "v3", SIMD);
  95     public static final Register v4 = new Register(36, 4, "v4", SIMD);
  96     public static final Register v5 = new Register(37, 5, "v5", SIMD);
  97     public static final Register v6 = new Register(38, 6, "v6", SIMD);
  98     public static final Register v7 = new Register(39, 7, "v7", SIMD);
  99     public static final Register v8 = new Register(40, 8, "v8", SIMD);
 100     public static final Register v9 = new Register(41, 9, "v9", SIMD);
 101     public static final Register v10 = new Register(42, 10, "v10", SIMD);
 102     public static final Register v11 = new Register(43, 11, "v11", SIMD);
 103     public static final Register v12 = new Register(44, 12, "v12", SIMD);
 104     public static final Register v13 = new Register(45, 13, "v13", SIMD);
 105     public static final Register v14 = new Register(46, 14, "v14", SIMD);
 106     public static final Register v15 = new Register(47, 15, "v15", SIMD);
 107     public static final Register v16 = new Register(48, 16, "v16", SIMD);
 108     public static final Register v17 = new Register(49, 17, "v17", SIMD);
 109     public static final Register v18 = new Register(50, 18, "v18", SIMD);
 110     public static final Register v19 = new Register(51, 19, "v19", SIMD);
 111     public static final Register v20 = new Register(52, 20, "v20", SIMD);
 112     public static final Register v21 = new Register(53, 21, "v21", SIMD);
 113     public static final Register v22 = new Register(54, 22, "v22", SIMD);
 114     public static final Register v23 = new Register(55, 23, "v23", SIMD);
 115     public static final Register v24 = new Register(56, 24, "v24", SIMD);
 116     public static final Register v25 = new Register(57, 25, "v25", SIMD);
 117     public static final Register v26 = new Register(58, 26, "v26", SIMD);
 118     public static final Register v27 = new Register(59, 27, "v27", SIMD);
 119     public static final Register v28 = new Register(60, 28, "v28", SIMD);
 120     public static final Register v29 = new Register(61, 29, "v29", SIMD);
 121     public static final Register v30 = new Register(62, 30, "v30", SIMD);
 122     public static final Register v31 = new Register(63, 31, "v31", SIMD);
 123 

 124     // @formatter:off
<span class="new"> 125     public static final Register[] simdRegisters = {</span>
 126         v0,  v1,  v2,  v3,  v4,  v5,  v6,  v7,
 127         v8,  v9,  v10, v11, v12, v13, v14, v15,
 128         v16, v17, v18, v19, v20, v21, v22, v23,
 129         v24, v25, v26, v27, v28, v29, v30, v31

 130     };
<span class="new"> 131     // @formatter:on</span>
 132 

 133     // @formatter:off
<span class="new"> 134     public static final Register[] allRegisters = {</span>
 135         r0,  r1,  r2,  r3,  r4,  r5,  r6,  r7,
 136         r8,  r9,  r10, r11, r12, r13, r14, r15,
 137         r16, r17, r18, r19, r20, r21, r22, r23,
 138         r24, r25, r26, r27, r28, r29, r30, r31,
 139 
 140         v0,  v1,  v2,  v3,  v4,  v5,  v6,  v7,
 141         v8,  v9,  v10, v11, v12, v13, v14, v15,
 142         v16, v17, v18, v19, v20, v21, v22, v23,
 143         v24, v25, v26, v27, v28, v29, v30, v31

 144     };
<span class="new"> 145     // @formatter:on</span>
 146 
 147     /**
 148      * Basic set of CPU features mirroring what is returned from the cpuid instruction. See:
 149      * {@code VM_Version::cpuFeatureFlags}.
 150      */
<span class="changed"> 151     public enum CPUFeature {</span>
 152         FP,
 153         ASIMD,
 154         EVTSTRM,
 155         AES,
 156         PMULL,
 157         SHA1,
 158         SHA2,
 159         CRC32,
 160         A53MAC,
 161         DMB_ATOMICS
 162     }
 163 
 164     private final EnumSet&lt;CPUFeature&gt; features;
 165 
 166     /**
 167      * Set of flags to control code emission.
 168      */
<span class="changed"> 169     public enum Flag {</span>
 170         UseBarriersForVolatile,
 171         UseCRC32,
 172         UseNeon
 173     }
 174 
 175     private final EnumSet&lt;Flag&gt; flags;
 176 
 177     public AArch64(EnumSet&lt;CPUFeature&gt; features, EnumSet&lt;Flag&gt; flags) {
 178         super("aarch64", AArch64Kind.QWORD, ByteOrder.LITTLE_ENDIAN, true, allRegisters, 0, 0, 0);
 179         this.features = features;
 180         this.flags = flags;
 181     }
 182 
 183     public EnumSet&lt;CPUFeature&gt; getFeatures() {
 184         return features;
 185     }
 186 
 187     public EnumSet&lt;Flag&gt; getFlags() {
 188         return flags;
 189     }

</pre><hr></hr>
</pre></td>
</tr></table>
</body></html>
