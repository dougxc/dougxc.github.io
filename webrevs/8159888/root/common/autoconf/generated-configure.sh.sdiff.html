<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta charset="utf-8">
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="-1" />
<!--
   Note to customizers: the body of the webrev is IDed as SUNWwebrev
   to allow easy overriding by users of webrev via the userContent.css
   mechanism available in some browsers.

   For example, to have all "removed" information be red instead of
   brown, set a rule in your userContent.css file like:

       body#SUNWwebrev span.removed { color: red ! important; }
-->
<style type="text/css" media="screen">
body {
    background-color: #eeeeee;
}
hr {
    border: none 0;
    border-top: 1px solid #aaa;
    height: 1px;
}
div.summary {
    font-size: .8em;
    border-bottom: 1px solid #aaa;
    padding-left: 1em;
    padding-right: 1em;
}
div.summary h2 {
    margin-bottom: 0.3em;
}
div.summary table th {
    text-align: right;
    vertical-align: top;
    white-space: nowrap;
}
span.lineschanged {
    font-size: 0.7em;
}
span.oldmarker {
    color: red;
    font-size: large;
    font-weight: bold;
}
span.newmarker {
    color: green;
    font-size: large;
    font-weight: bold;
}
span.removed {
    color: brown;
}
span.changed {
    color: blue;
}
span.new {
    color: blue;
    font-weight: bold;
}
a.print { font-size: x-small; }

</style>

<style type="text/css" media="print">
pre { font-size: 0.8em; font-family: courier, monospace; }
span.removed { color: #444; font-style: italic }
span.changed { font-weight: bold; }
span.new { font-weight: bold; }
span.newmarker { font-size: 1.2em; font-weight: bold; }
span.oldmarker { font-size: 1.2em; font-weight: bold; }
a.print {display: none}
hr { border: none 0; border-top: 1px solid #aaa; height: 1px; }
</style>

<title>hs-comp Sdiff common/autoconf </title>
</head><body id="SUNWwebrev">
<center>&lt prev <a href='../../index.html' target='_top'>index</a> <a href='../../common/autoconf/hotspot.m4.sdiff.html' target='_top'>next &gt</a></center>
<h2>common/autoconf/generated-configure.sh</h2>
<a class="print" href="javascript:print()">Print this page</a>
<pre></pre>

<table><tr valign="top">
<td><pre>

</pre><hr></hr><pre>
5077 
5078 
5079 
5080 
5081 
5082 
5083 
5084 
5085 
5086 
5087 
5088 
5089 
5090 
5091 # This line needs to be here, verbatim, after all includes and the dummy hook
5092 # definitions. It is replaced with custom functionality when building
5093 # custom sources.
5094 #CUSTOM_AUTOCONF_INCLUDE
5095 
5096 # Do not change or remove the following line, it is needed for consistency checks:
<span class="changed">5097 DATE_WHEN_GENERATED=1466007828</span>
5098 
5099 ###############################################################################
5100 #
5101 # Initialization / Boot-strapping
5102 #
5103 # The bootstrapping process needs to solve the "chicken or the egg" problem,
5104 # thus it jumps back and forth, each time gaining something needed later on.
5105 #
5106 ###############################################################################
5107 
5108 # If we are requested to print additional help, do that and then exit.
5109 # This must be the very first call.
5110 
5111   if test "x$CONFIGURE_PRINT_ADDITIONAL_HELP" != x; then
5112 
5113     # Print available toolchains
5114     $PRINTF "The following toolchains are available as arguments to --with-toolchain-type.\n"
5115     $PRINTF "Which are valid to use depends on the build platform.\n"
5116     for toolchain in $VALID_TOOLCHAINS_all; do
5117       # Use indirect variable referencing

</pre><hr></hr><pre>
53337   withval=$with_jvm_features;
53338 fi
53339 
53340   if test "x$with_jvm_features" != x; then
53341     { $as_echo "$as_me:${as_lineno-$LINENO}: checking additional JVM features" &gt;&amp;5
53342 $as_echo_n "checking additional JVM features... " &gt;&amp;6; }
53343     JVM_FEATURES=`$ECHO $with_jvm_features | $SED -e 's/,/ /g'`
53344     { $as_echo "$as_me:${as_lineno-$LINENO}: result: $JVM_FEATURES" &gt;&amp;5
53345 $as_echo "$JVM_FEATURES" &gt;&amp;6; }
53346   fi
53347 
53348   # Verify that dependencies are met for explicitly set features.
53349   if   [[ " $JVM_FEATURES " =~ " jvmti " ]]   &amp;&amp; !   [[ " $JVM_FEATURES " =~ " services " ]]  ; then
53350     as_fn_error $? "Specified JVM feature 'jvmti' requires feature 'services'" "$LINENO" 5
53351   fi
53352 
53353   if   [[ " $JVM_FEATURES " =~ " management " ]]   &amp;&amp; !   [[ " $JVM_FEATURES " =~ " nmt " ]]  ; then
53354     as_fn_error $? "Specified JVM feature 'management' requires feature 'nmt'" "$LINENO" 5
53355   fi
53356 
<span class="changed">53357   if   [[ " $JVM_FEATURES " =~ " jvmci " ]]   &amp;&amp; !   [[ " $JVM_FEATURES " =~ " compiler2 " ]]  ; then</span>
<span class="changed">53358     as_fn_error $? "Specified JVM feature 'jvmci' requires feature 'compiler2'" "$LINENO" 5</span>
53359   fi
53360 
53361   if   [[ " $JVM_FEATURES " =~ " compiler2 " ]]   &amp;&amp; !   [[ " $JVM_FEATURES " =~ " all-gcs " ]]  ; then
53362     as_fn_error $? "Specified JVM feature 'compiler2' requires feature 'all-gcs'" "$LINENO" 5
53363   fi
53364 
53365   if   [[ " $JVM_FEATURES " =~ " vm-structs " ]]   &amp;&amp; !   [[ " $JVM_FEATURES " =~ " all-gcs " ]]  ; then
53366     as_fn_error $? "Specified JVM feature 'vm-structs' requires feature 'all-gcs'" "$LINENO" 5
53367   fi
53368 
53369   # Turn on additional features based on other parts of configure
53370   if test "x$INCLUDE_DTRACE" = "xtrue"; then
53371     JVM_FEATURES="$JVM_FEATURES dtrace"
53372   else
53373     if   [[ " $JVM_FEATURES " =~ " dtrace " ]]  ; then
53374       as_fn_error $? "To enable dtrace, you must use --enable-dtrace" "$LINENO" 5
53375     fi
53376   fi
53377 
53378   if test "x$STATIC_BUILD" = "xtrue"; then
53379     JVM_FEATURES="$JVM_FEATURES static-build"
53380   else
53381     if   [[ " $JVM_FEATURES " =~ " static-build " ]]  ; then
53382       as_fn_error $? "To enable static-build, you must use --enable-static-build" "$LINENO" 5
53383     fi
53384   fi
53385 
53386   if !   [[ " $JVM_VARIANTS " =~ " zero " ]]   &amp;&amp; !   [[ " $JVM_VARIANTS " =~ " zeroshark " ]]  ; then
53387     if   [[ " $JVM_FEATURES " =~ " zero " ]]  ; then
53388       as_fn_error $? "To enable zero/zeroshark, you must use --with-jvm-variants=zero/zeroshark" "$LINENO" 5
53389     fi
53390   fi
53391 
53392   if !   [[ " $JVM_VARIANTS " =~ " zeroshark " ]]  ; then
53393     if   [[ " $JVM_FEATURES " =~ " shark " ]]  ; then
53394       as_fn_error $? "To enable shark, you must use --with-jvm-variants=zeroshark" "$LINENO" 5
53395     fi
53396   fi
53397 
<span class="changed">53398   # Only enable jvmci on x86_64, sparcv9 and aarch64, and only on server.</span>
53399   if test "x$OPENJDK_TARGET_CPU" = "xx86_64" || \
53400       test "x$OPENJDK_TARGET_CPU" = "xsparcv9" || \
53401       test "x$OPENJDK_TARGET_CPU" = "xaarch64" ; then
53402     JVM_FEATURES_jvmci="jvmci"
53403   else
53404     JVM_FEATURES_jvmci=""
53405   fi
53406 
53407   # All variants but minimal (and custom) get these features
53408   NON_MINIMAL_FEATURES="$NON_MINIMAL_FEATURES jvmti fprof vm-structs jni-check services management all-gcs nmt cds"
53409 
53410   # Enable features depending on variant.
53411   JVM_FEATURES_server="compiler1 compiler2 $NON_MINIMAL_FEATURES $JVM_FEATURES $JVM_FEATURES_jvmci"
<span class="changed">53412   JVM_FEATURES_client="compiler1 $NON_MINIMAL_FEATURES $JVM_FEATURES"</span>
53413   JVM_FEATURES_core="$NON_MINIMAL_FEATURES $JVM_FEATURES"
53414   JVM_FEATURES_minimal="compiler1 minimal $JVM_FEATURES"
53415   JVM_FEATURES_zero="zero $NON_MINIMAL_FEATURES $JVM_FEATURES"
53416   JVM_FEATURES_zeroshark="zero shark $NON_MINIMAL_FEATURES $JVM_FEATURES"
53417   JVM_FEATURES_custom="$JVM_FEATURES"
53418 
53419 
53420 
53421 
53422 
53423 
53424 
53425 
53426 
53427   # Used for verification of Makefiles by check-jvm-feature
53428 
53429 
53430   # We don't support --with-jvm-interpreter anymore, use zero instead.
53431 
53432 

</pre><hr></hr>
</pre></td><td><pre>

</pre><hr></hr><pre>
5077 
5078 
5079 
5080 
5081 
5082 
5083 
5084 
5085 
5086 
5087 
5088 
5089 
5090 
5091 # This line needs to be here, verbatim, after all includes and the dummy hook
5092 # definitions. It is replaced with custom functionality when building
5093 # custom sources.
5094 #CUSTOM_AUTOCONF_INCLUDE
5095 
5096 # Do not change or remove the following line, it is needed for consistency checks:
<span class="changed">5097 DATE_WHEN_GENERATED=1467196227</span>
5098 
5099 ###############################################################################
5100 #
5101 # Initialization / Boot-strapping
5102 #
5103 # The bootstrapping process needs to solve the "chicken or the egg" problem,
5104 # thus it jumps back and forth, each time gaining something needed later on.
5105 #
5106 ###############################################################################
5107 
5108 # If we are requested to print additional help, do that and then exit.
5109 # This must be the very first call.
5110 
5111   if test "x$CONFIGURE_PRINT_ADDITIONAL_HELP" != x; then
5112 
5113     # Print available toolchains
5114     $PRINTF "The following toolchains are available as arguments to --with-toolchain-type.\n"
5115     $PRINTF "Which are valid to use depends on the build platform.\n"
5116     for toolchain in $VALID_TOOLCHAINS_all; do
5117       # Use indirect variable referencing

</pre><hr></hr><pre>
53337   withval=$with_jvm_features;
53338 fi
53339 
53340   if test "x$with_jvm_features" != x; then
53341     { $as_echo "$as_me:${as_lineno-$LINENO}: checking additional JVM features" &gt;&amp;5
53342 $as_echo_n "checking additional JVM features... " &gt;&amp;6; }
53343     JVM_FEATURES=`$ECHO $with_jvm_features | $SED -e 's/,/ /g'`
53344     { $as_echo "$as_me:${as_lineno-$LINENO}: result: $JVM_FEATURES" &gt;&amp;5
53345 $as_echo "$JVM_FEATURES" &gt;&amp;6; }
53346   fi
53347 
53348   # Verify that dependencies are met for explicitly set features.
53349   if   [[ " $JVM_FEATURES " =~ " jvmti " ]]   &amp;&amp; !   [[ " $JVM_FEATURES " =~ " services " ]]  ; then
53350     as_fn_error $? "Specified JVM feature 'jvmti' requires feature 'services'" "$LINENO" 5
53351   fi
53352 
53353   if   [[ " $JVM_FEATURES " =~ " management " ]]   &amp;&amp; !   [[ " $JVM_FEATURES " =~ " nmt " ]]  ; then
53354     as_fn_error $? "Specified JVM feature 'management' requires feature 'nmt'" "$LINENO" 5
53355   fi
53356 
<span class="changed">53357   if   [[ " $JVM_FEATURES " =~ " jvmci " ]]   &amp;&amp; ! (  [[ " $JVM_FEATURES " =~ " compiler1 " ]]   ||   [[ " $JVM_FEATURES " =~ " compiler2 " ]]  ); then</span>
<span class="changed">53358     as_fn_error $? "Specified JVM feature 'jvmci' requires feature 'compiler2' or 'compiler1'" "$LINENO" 5</span>
53359   fi
53360 
53361   if   [[ " $JVM_FEATURES " =~ " compiler2 " ]]   &amp;&amp; !   [[ " $JVM_FEATURES " =~ " all-gcs " ]]  ; then
53362     as_fn_error $? "Specified JVM feature 'compiler2' requires feature 'all-gcs'" "$LINENO" 5
53363   fi
53364 
53365   if   [[ " $JVM_FEATURES " =~ " vm-structs " ]]   &amp;&amp; !   [[ " $JVM_FEATURES " =~ " all-gcs " ]]  ; then
53366     as_fn_error $? "Specified JVM feature 'vm-structs' requires feature 'all-gcs'" "$LINENO" 5
53367   fi
53368 
53369   # Turn on additional features based on other parts of configure
53370   if test "x$INCLUDE_DTRACE" = "xtrue"; then
53371     JVM_FEATURES="$JVM_FEATURES dtrace"
53372   else
53373     if   [[ " $JVM_FEATURES " =~ " dtrace " ]]  ; then
53374       as_fn_error $? "To enable dtrace, you must use --enable-dtrace" "$LINENO" 5
53375     fi
53376   fi
53377 
53378   if test "x$STATIC_BUILD" = "xtrue"; then
53379     JVM_FEATURES="$JVM_FEATURES static-build"
53380   else
53381     if   [[ " $JVM_FEATURES " =~ " static-build " ]]  ; then
53382       as_fn_error $? "To enable static-build, you must use --enable-static-build" "$LINENO" 5
53383     fi
53384   fi
53385 
53386   if !   [[ " $JVM_VARIANTS " =~ " zero " ]]   &amp;&amp; !   [[ " $JVM_VARIANTS " =~ " zeroshark " ]]  ; then
53387     if   [[ " $JVM_FEATURES " =~ " zero " ]]  ; then
53388       as_fn_error $? "To enable zero/zeroshark, you must use --with-jvm-variants=zero/zeroshark" "$LINENO" 5
53389     fi
53390   fi
53391 
53392   if !   [[ " $JVM_VARIANTS " =~ " zeroshark " ]]  ; then
53393     if   [[ " $JVM_FEATURES " =~ " shark " ]]  ; then
53394       as_fn_error $? "To enable shark, you must use --with-jvm-variants=zeroshark" "$LINENO" 5
53395     fi
53396   fi
53397 
<span class="changed">53398   # Only enable jvmci on x86_64, sparcv9 and aarch64.</span>
53399   if test "x$OPENJDK_TARGET_CPU" = "xx86_64" || \
53400       test "x$OPENJDK_TARGET_CPU" = "xsparcv9" || \
53401       test "x$OPENJDK_TARGET_CPU" = "xaarch64" ; then
53402     JVM_FEATURES_jvmci="jvmci"
53403   else
53404     JVM_FEATURES_jvmci=""
53405   fi
53406 
53407   # All variants but minimal (and custom) get these features
53408   NON_MINIMAL_FEATURES="$NON_MINIMAL_FEATURES jvmti fprof vm-structs jni-check services management all-gcs nmt cds"
53409 
53410   # Enable features depending on variant.
53411   JVM_FEATURES_server="compiler1 compiler2 $NON_MINIMAL_FEATURES $JVM_FEATURES $JVM_FEATURES_jvmci"
<span class="changed">53412   JVM_FEATURES_client="compiler1 $NON_MINIMAL_FEATURES $JVM_FEATURES $JVM_FEATURES_jvmci"</span>
53413   JVM_FEATURES_core="$NON_MINIMAL_FEATURES $JVM_FEATURES"
53414   JVM_FEATURES_minimal="compiler1 minimal $JVM_FEATURES"
53415   JVM_FEATURES_zero="zero $NON_MINIMAL_FEATURES $JVM_FEATURES"
53416   JVM_FEATURES_zeroshark="zero shark $NON_MINIMAL_FEATURES $JVM_FEATURES"
53417   JVM_FEATURES_custom="$JVM_FEATURES"
53418 
53419 
53420 
53421 
53422 
53423 
53424 
53425 
53426 
53427   # Used for verification of Makefiles by check-jvm-feature
53428 
53429 
53430   # We don't support --with-jvm-interpreter anymore, use zero instead.
53431 
53432 

</pre><hr></hr>
</pre></td>
</tr></table>
<center>&lt prev <a href='../../index.html' target='_top'>index</a> <a href='../../common/autoconf/hotspot.m4.sdiff.html' target='_top'>next &gt</a></center>
</body></html>
