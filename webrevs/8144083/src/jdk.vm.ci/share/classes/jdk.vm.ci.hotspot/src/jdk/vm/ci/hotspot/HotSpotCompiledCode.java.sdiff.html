<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="-1" />
<!--
   Note to customizers: the body of the webrev is IDed as SUNWwebrev
   to allow easy overriding by users of webrev via the userContent.css
   mechanism available in some browsers.

   For example, to have all "removed" information be red instead of
   brown, set a rule in your userContent.css file like:

       body#SUNWwebrev span.removed { color: red ! important; }
-->
<style type="text/css" media="screen">
body {
    background-color: #eeeeee;
}
hr {
    border: none 0;
    border-top: 1px solid #aaa;
    height: 1px;
}
div.summary {
    font-size: .8em;
    border-bottom: 1px solid #aaa;
    padding-left: 1em;
    padding-right: 1em;
}
div.summary h2 {
    margin-bottom: 0.3em;
}
div.summary table th {
    text-align: right;
    vertical-align: top;
    white-space: nowrap;
}
span.lineschanged {
    font-size: 0.7em;
}
span.oldmarker {
    color: red;
    font-size: large;
    font-weight: bold;
}
span.newmarker {
    color: green;
    font-size: large;
    font-weight: bold;
}
span.removed {
    color: brown;
}
span.changed {
    color: blue;
}
span.new {
    color: blue;
    font-weight: bold;
}
a.print { font-size: x-small; }

</style>

<style type="text/css" media="print">
pre { font-size: 0.8em; font-family: courier, monospace; }
span.removed { color: #444; font-style: italic }
span.changed { font-weight: bold; }
span.new { font-weight: bold; }
span.newmarker { font-size: 1.2em; font-weight: bold; }
span.oldmarker { font-size: 1.2em; font-weight: bold; }
a.print {display: none}
hr { border: none 0; border-top: 1px solid #aaa; height: 1px; }
</style>

<title>hotspot Sdiff src/jdk.vm.ci/share/classes/jdk.vm.ci.hotspot/src/jdk/vm/ci/hotspot </title>
</head><body id="SUNWwebrev">
<h2>src/jdk.vm.ci/share/classes/jdk.vm.ci.hotspot/src/jdk/vm/ci/hotspot/HotSpotCompiledCode.java</h2>
<a class="print" href="javascript:print()">Print this page</a>
<pre></pre>

<table><tr valign="top">
<td><pre>

</pre><hr></hr><pre>
 101                 String text;
 102                 if (annotation instanceof CodeComment) {
 103                     CodeComment codeComment = (CodeComment) annotation;
 104                     text = codeComment.value;
 105                 } else if (annotation instanceof JumpTable) {
 106                     JumpTable jumpTable = (JumpTable) annotation;
 107                     text = "JumpTable [" + jumpTable.low + " .. " + jumpTable.high + "]";
 108                 } else {
 109                     text = annotation.toString();
 110                 }
 111                 comments[i] = new Comment(annotation.position, text);
 112             }
 113         }
 114         assumptions = compResult.getAssumptions();
 115         assert validateFrames();
 116 
 117         targetCode = compResult.getTargetCode();
 118         targetCodeSize = compResult.getTargetCodeSize();
 119 
 120         DataSection data = compResult.getDataSection();
<span class="removed"> 121         data.finalizeLayout();</span>
 122         dataSection = new byte[data.getSectionSize()];
 123 
 124         ByteBuffer buffer = ByteBuffer.wrap(dataSection).order(ByteOrder.nativeOrder());
 125         Builder&lt;DataPatch&gt; patchBuilder = Stream.builder();
 126         data.buildDataSection(buffer, patchBuilder);
 127 
 128         dataSectionAlignment = data.getSectionAlignment();
 129         dataSectionPatches = patchBuilder.build().toArray(len -&gt; new DataPatch[len]);
 130 
 131         isImmutablePIC = compResult.isImmutablePIC();
 132 
 133         totalFrameSize = compResult.getTotalFrameSize();
 134         customStackAreaOffset = compResult.getCustomStackAreaOffset();
 135 
 136         methods = compResult.getMethods();
 137     }
 138 
 139     /**
 140      * Ensure that all the frames passed into HotSpot are properly formatted with an empty or
 141      * illegal slot following double word slots.

</pre><hr></hr>
</pre></td><td><pre>

</pre><hr></hr><pre>
 101                 String text;
 102                 if (annotation instanceof CodeComment) {
 103                     CodeComment codeComment = (CodeComment) annotation;
 104                     text = codeComment.value;
 105                 } else if (annotation instanceof JumpTable) {
 106                     JumpTable jumpTable = (JumpTable) annotation;
 107                     text = "JumpTable [" + jumpTable.low + " .. " + jumpTable.high + "]";
 108                 } else {
 109                     text = annotation.toString();
 110                 }
 111                 comments[i] = new Comment(annotation.position, text);
 112             }
 113         }
 114         assumptions = compResult.getAssumptions();
 115         assert validateFrames();
 116 
 117         targetCode = compResult.getTargetCode();
 118         targetCodeSize = compResult.getTargetCodeSize();
 119 
 120         DataSection data = compResult.getDataSection();

 121         dataSection = new byte[data.getSectionSize()];
 122 
 123         ByteBuffer buffer = ByteBuffer.wrap(dataSection).order(ByteOrder.nativeOrder());
 124         Builder&lt;DataPatch&gt; patchBuilder = Stream.builder();
 125         data.buildDataSection(buffer, patchBuilder);
 126 
 127         dataSectionAlignment = data.getSectionAlignment();
 128         dataSectionPatches = patchBuilder.build().toArray(len -&gt; new DataPatch[len]);
 129 
 130         isImmutablePIC = compResult.isImmutablePIC();
 131 
 132         totalFrameSize = compResult.getTotalFrameSize();
 133         customStackAreaOffset = compResult.getCustomStackAreaOffset();
 134 
 135         methods = compResult.getMethods();
 136     }
 137 
 138     /**
 139      * Ensure that all the frames passed into HotSpot are properly formatted with an empty or
 140      * illegal slot following double word slots.

</pre><hr></hr>
</pre></td>
</tr></table>
</body></html>
