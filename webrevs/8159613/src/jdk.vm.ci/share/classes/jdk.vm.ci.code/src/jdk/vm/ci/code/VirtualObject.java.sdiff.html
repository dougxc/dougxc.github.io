<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta charset="utf-8">
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="-1" />
<!--
   Note to customizers: the body of the webrev is IDed as SUNWwebrev
   to allow easy overriding by users of webrev via the userContent.css
   mechanism available in some browsers.

   For example, to have all "removed" information be red instead of
   brown, set a rule in your userContent.css file like:

       body#SUNWwebrev span.removed { color: red ! important; }
-->
<style type="text/css" media="screen">
body {
    background-color: #eeeeee;
}
hr {
    border: none 0;
    border-top: 1px solid #aaa;
    height: 1px;
}
div.summary {
    font-size: .8em;
    border-bottom: 1px solid #aaa;
    padding-left: 1em;
    padding-right: 1em;
}
div.summary h2 {
    margin-bottom: 0.3em;
}
div.summary table th {
    text-align: right;
    vertical-align: top;
    white-space: nowrap;
}
span.lineschanged {
    font-size: 0.7em;
}
span.oldmarker {
    color: red;
    font-size: large;
    font-weight: bold;
}
span.newmarker {
    color: green;
    font-size: large;
    font-weight: bold;
}
span.removed {
    color: brown;
}
span.changed {
    color: blue;
}
span.new {
    color: blue;
    font-weight: bold;
}
a.print { font-size: x-small; }

</style>

<style type="text/css" media="print">
pre { font-size: 0.8em; font-family: courier, monospace; }
span.removed { color: #444; font-style: italic }
span.changed { font-weight: bold; }
span.new { font-weight: bold; }
span.newmarker { font-size: 1.2em; font-weight: bold; }
span.oldmarker { font-size: 1.2em; font-weight: bold; }
a.print {display: none}
hr { border: none 0; border-top: 1px solid #aaa; height: 1px; }
</style>

<title>hotspot Sdiff src/jdk.vm.ci/share/classes/jdk.vm.ci.code/src/jdk/vm/ci/code </title>
</head><body id="SUNWwebrev">
<center><a href='../../../../../../../../../../src/jdk.vm.ci/share/classes/jdk.vm.ci.code/src/jdk/vm/ci/code/RegisterSaveLayout.java.sdiff.html' target='_top'>&lt prev</a> <a href='../../../../../../../../../../index.html' target='_top'>index</a> <a href='../../../../../../../../../../src/jdk.vm.ci/share/classes/jdk.vm.ci.common/src/jdk/vm/ci/common/InitTimer.java.sdiff.html' target='_top'>next &gt</a></center>
<h2>src/jdk.vm.ci/share/classes/jdk.vm.ci.code/src/jdk/vm/ci/code/VirtualObject.java</h2>
<a class="print" href="javascript:print()">Print this page</a>
<pre></pre>

<table><tr valign="top">
<td><pre>

</pre><hr></hr><pre>
 102             buf.append(value);
 103         }
 104         return buf;
 105     }
 106 
 107     @Override
 108     public String toString() {
 109         Set&lt;VirtualObject&gt; visited = Collections.newSetFromMap(new IdentityHashMap&lt;VirtualObject, Boolean&gt;());
 110         return appendValue(new StringBuilder(), this, visited).toString();
 111     }
 112 
 113     /**
 114      * Returns the type of the object whose allocation was removed during compilation. This can be
 115      * either an instance of an array type.
 116      */
 117     public ResolvedJavaType getType() {
 118         return type;
 119     }
 120 
 121     /**
<span class="changed"> 122      * Returns an array containing all the values to be stored into the object when it is recreated.</span>


 123      */

 124     public JavaValue[] getValues() {
 125         return values;
 126     }
 127 
 128     /**
<span class="changed"> 129      * Returns an array containing the Java kind of all values in the object.</span>
 130      */
<span class="changed"> 131     public JavaKind[] getSlotKinds() {</span>
<span class="changed"> 132         return slotKinds;</span>
 133     }
 134 
 135     /**
 136      * Returns the unique id that identifies the object within the debug information for one
 137      * position in the compiled code.
 138      */
 139     public int getId() {
 140         return id;
 141     }
 142 
 143     /**
 144      * Overwrites the current set of values with a new one.
 145      *
 146      * @param values an array containing all the values to be stored into the object when it is
 147      *            recreated.
<span class="changed"> 148      * @param slotKinds an array containing the Java kinds of the values.</span>


 149      */

 150     public void setValues(JavaValue[] values, JavaKind[] slotKinds) {

 151         this.values = values;
 152         this.slotKinds = slotKinds;
 153     }
 154 
 155     @Override
 156     public int hashCode() {
 157         return 42 + type.hashCode();
 158     }
 159 
 160     @Override
 161     public boolean equals(Object o) {
 162         if (o == this) {
 163             return true;
 164         }
 165         if (o instanceof VirtualObject) {
 166             VirtualObject l = (VirtualObject) o;
 167             if (!l.type.equals(type) || l.values.length != values.length) {
 168                 return false;
 169             }
 170             for (int i = 0; i &lt; values.length; i++) {
</pre></td><td><pre>

</pre><hr></hr><pre>
 102             buf.append(value);
 103         }
 104         return buf;
 105     }
 106 
 107     @Override
 108     public String toString() {
 109         Set&lt;VirtualObject&gt; visited = Collections.newSetFromMap(new IdentityHashMap&lt;VirtualObject, Boolean&gt;());
 110         return appendValue(new StringBuilder(), this, visited).toString();
 111     }
 112 
 113     /**
 114      * Returns the type of the object whose allocation was removed during compilation. This can be
 115      * either an instance of an array type.
 116      */
 117     public ResolvedJavaType getType() {
 118         return type;
 119     }
 120 
 121     /**
<span class="changed"> 122      * Returns the array containing all the values to be stored into the object when it is</span>
<span class="changed"> 123      * recreated. This field is intentional exposed as a mutable array that a compiler may modify</span>
<span class="changed"> 124      * (e.g. during register allocation).</span>
 125      */
<span class="new"> 126     @SuppressFBWarnings(value = "EI_EXPOSE_REP", justification = "`values` is intentional mutable")//</span>
 127     public JavaValue[] getValues() {
 128         return values;
 129     }
 130 
 131     /**
<span class="changed"> 132      * Returns the kind of the value at {@code index}.</span>
 133      */
<span class="changed"> 134     public JavaKind getSlotKind(int index) {</span>
<span class="changed"> 135         return slotKinds[index];</span>
 136     }
 137 
 138     /**
 139      * Returns the unique id that identifies the object within the debug information for one
 140      * position in the compiled code.
 141      */
 142     public int getId() {
 143         return id;
 144     }
 145 
 146     /**
 147      * Overwrites the current set of values with a new one.
 148      *
 149      * @param values an array containing all the values to be stored into the object when it is
 150      *            recreated.
<span class="changed"> 151      * @param slotKinds an array containing the Java kinds of the values. This must have the same</span>
<span class="changed"> 152      *            length as {@code values}. This array is now owned by this object and must not be</span>
<span class="changed"> 153      *            mutated by the caller.</span>
 154      */
<span class="new"> 155     @SuppressFBWarnings(value = "EI_EXPOSE_REP2", justification = "caller transfers ownership of `slotKinds`")</span>
 156     public void setValues(JavaValue[] values, JavaKind[] slotKinds) {
<span class="new"> 157         assert values.length == slotKinds.length;</span>
 158         this.values = values;
 159         this.slotKinds = slotKinds;
 160     }
 161 
 162     @Override
 163     public int hashCode() {
 164         return 42 + type.hashCode();
 165     }
 166 
 167     @Override
 168     public boolean equals(Object o) {
 169         if (o == this) {
 170             return true;
 171         }
 172         if (o instanceof VirtualObject) {
 173             VirtualObject l = (VirtualObject) o;
 174             if (!l.type.equals(type) || l.values.length != values.length) {
 175                 return false;
 176             }
 177             for (int i = 0; i &lt; values.length; i++) {
</pre></td>
</tr></table>
<center><a href='../../../../../../../../../../src/jdk.vm.ci/share/classes/jdk.vm.ci.code/src/jdk/vm/ci/code/RegisterSaveLayout.java.sdiff.html' target='_top'>&lt prev</a> <a href='../../../../../../../../../../index.html' target='_top'>index</a> <a href='../../../../../../../../../../src/jdk.vm.ci/share/classes/jdk.vm.ci.common/src/jdk/vm/ci/common/InitTimer.java.sdiff.html' target='_top'>next &gt</a></center>
</body></html>
