<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta charset="utf-8">
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="-1" />
<!--
   Note to customizers: the body of the webrev is IDed as SUNWwebrev
   to allow easy overriding by users of webrev via the userContent.css
   mechanism available in some browsers.

   For example, to have all "removed" information be red instead of
   brown, set a rule in your userContent.css file like:

       body#SUNWwebrev span.removed { color: red ! important; }
-->
<style type="text/css" media="screen">
body {
    background-color: #eeeeee;
}
hr {
    border: none 0;
    border-top: 1px solid #aaa;
    height: 1px;
}
div.summary {
    font-size: .8em;
    border-bottom: 1px solid #aaa;
    padding-left: 1em;
    padding-right: 1em;
}
div.summary h2 {
    margin-bottom: 0.3em;
}
div.summary table th {
    text-align: right;
    vertical-align: top;
    white-space: nowrap;
}
span.lineschanged {
    font-size: 0.7em;
}
span.oldmarker {
    color: red;
    font-size: large;
    font-weight: bold;
}
span.newmarker {
    color: green;
    font-size: large;
    font-weight: bold;
}
span.removed {
    color: brown;
}
span.changed {
    color: blue;
}
span.new {
    color: blue;
    font-weight: bold;
}
a.print { font-size: x-small; }

</style>

<style type="text/css" media="print">
pre { font-size: 0.8em; font-family: courier, monospace; }
span.removed { color: #444; font-style: italic }
span.changed { font-weight: bold; }
span.new { font-weight: bold; }
span.newmarker { font-size: 1.2em; font-weight: bold; }
span.oldmarker { font-size: 1.2em; font-weight: bold; }
a.print {display: none}
hr { border: none 0; border-top: 1px solid #aaa; height: 1px; }
</style>

<title>hotspot Cdiff test/compiler/jvmci/jdk.vm.ci.hotspot.test/src/jdk/vm/ci/hotspot/test/HotSpotConstantReflectionProviderTest.java</title>
</head>
<body id="SUNWwebrev">
<center><a href='../../../../../../../../../../test/compiler/jvmci/jdk.vm.ci.hotspot.test/src/jdk/vm/ci/hotspot/test/ForStringDataProvider.java.cdiff.html' target='_top'>&lt prev</a> <a href='../../../../../../../../../../index.html' target='_top'>index</a> <a href='../../../../../../../../../../test/compiler/jvmci/jdk.vm.ci.hotspot.test/src/jdk/vm/ci/hotspot/test/IsEmbeddableDataProvider.java.cdiff.html' target='_top'>next &gt</a></center>
<h2>test/compiler/jvmci/jdk.vm.ci.hotspot.test/src/jdk/vm/ci/hotspot/test/HotSpotConstantReflectionProviderTest.java</h2>
        <a class="print" href="javascript:print()">Print this page</a>
<pre></pre>
        <pre>
<hr /><span class="oldmarker">*** 93,121 ****</span>
          JavaConstant actual = CONSTANT_REFLECTION_PROVIDER.readFieldValue(field, receiver);
          Assert.assertEquals(actual == null ? "null" : actual.toString(),
                              expected == null ? "null" : expected.toString(), "Unexpected result:");
      }
  
<span class="changed">!     @Test(dataProvider = "readFieldValueNegativeDataProvider",</span>
<span class="changed">!             dataProviderClass = ReadFieldValueDataProvider.class,</span>
<span class="changed">!             expectedExceptions = {NullPointerException.class})</span>
      public void testNegativeReadFieldValue(ResolvedJavaField field, JavaConstant receiver) {
          CONSTANT_REFLECTION_PROVIDER.readFieldValue(field, receiver);
      }
  
<span class="changed">!     @Test(dataProvider = "readStableFieldValueDataProvider",</span>
<span class="changed">!             dataProviderClass = ReadStableFieldValueDataProvider.class)</span>
      public void testReadStableFieldValue(ResolvedJavaField field, JavaConstant receiver, boolean isDefStab,
                                           JavaConstant expected) {
          Assert.assertEquals(
                  CONSTANT_REFLECTION_PROVIDER.readStableFieldValue(field, receiver, isDefStab),
                  expected,
                  "Unexpected result:");
      }
  
<span class="changed">!     @Test(dataProvider = "readStableFieldValueArrayDataProvider",</span>
<span class="changed">!             dataProviderClass = ReadStableFieldValueDataProvider.class)</span>
      public void testReadStableFieldValueForArray(ResolvedJavaField field, JavaConstant receiver, boolean isDefStab,
                                                   int arrayDim, JavaConstant expected) {
          JavaConstant result = CONSTANT_REFLECTION_PROVIDER.readStableFieldValue(field, receiver,
                                                                                  isDefStab);
          boolean resultDefStab = false;
<span class="newmarker">--- 93,117 ----</span>
          JavaConstant actual = CONSTANT_REFLECTION_PROVIDER.readFieldValue(field, receiver);
          Assert.assertEquals(actual == null ? "null" : actual.toString(),
                          expected == null ? "null" : expected.toString(), "Unexpected result:");
      }
  
<span class="changed">!     @Test(dataProvider = "readFieldValueNegativeDataProvider", dataProviderClass = ReadFieldValueDataProvider.class, expectedExceptions = {NullPointerException.class})</span>
      public void testNegativeReadFieldValue(ResolvedJavaField field, JavaConstant receiver) {
          CONSTANT_REFLECTION_PROVIDER.readFieldValue(field, receiver);
      }
  
<span class="changed">!     @Test(dataProvider = "readStableFieldValueDataProvider", dataProviderClass = ReadStableFieldValueDataProvider.class)</span>
      public void testReadStableFieldValue(ResolvedJavaField field, JavaConstant receiver, boolean isDefStab,
                      JavaConstant expected) {
          Assert.assertEquals(
                          CONSTANT_REFLECTION_PROVIDER.readStableFieldValue(field, receiver, isDefStab),
                          expected,
                          "Unexpected result:");
      }
  
<span class="changed">!     @Test(dataProvider = "readStableFieldValueArrayDataProvider", dataProviderClass = ReadStableFieldValueDataProvider.class)</span>
      public void testReadStableFieldValueForArray(ResolvedJavaField field, JavaConstant receiver, boolean isDefStab,
                      int arrayDim, JavaConstant expected) {
          JavaConstant result = CONSTANT_REFLECTION_PROVIDER.readStableFieldValue(field, receiver,
                          isDefStab);
          boolean resultDefStab = false;
<hr /><span class="oldmarker">*** 139,183 ****</span>
          Assert.assertEquals(resultStableDim, arrayDim,
                              "Wrong array dimension for " + result.toString());
          Assert.assertEquals(result.toString(), expected.toString(), "Unexpected result:");
      }
  
<span class="changed">!     @Test(dataProvider = "readStableFieldValueNegativeDataProvider",</span>
<span class="changed">!             dataProviderClass = ReadStableFieldValueDataProvider.class,</span>
<span class="changed">!             expectedExceptions = {NullPointerException.class})</span>
      public void testNegativeReadStableFieldValue(ResolvedJavaField field, JavaConstant receiver, boolean isDefStab) {
          CONSTANT_REFLECTION_PROVIDER.readStableFieldValue(field, receiver, isDefStab);
      }
  
<span class="changed">!     @Test(dataProvider = "readConstantFieldValueDataProvider",</span>
<span class="changed">!             dataProviderClass = ReadConstantFieldValueDataProvider.class)</span>
      public void testReadConstantFieldValue(ResolvedJavaField field, JavaConstant receiver, JavaConstant expected,
                                             String testInfo) {
          String msg = String.format("Unexpected result for %s. Field is stable = %s.", testInfo,
                                     ((HotSpotResolvedJavaField) field).isStable());
          Assert.assertEquals(CONSTANT_REFLECTION_PROVIDER.readConstantFieldValue(field, receiver),
                              expected, msg);
      }
  
<span class="changed">!     @Test(dataProvider = "readConstantFieldValueNegativeDataProvider",</span>
<span class="changed">!             dataProviderClass = ReadConstantFieldValueDataProvider.class,</span>
<span class="changed">!             expectedExceptions = {NullPointerException.class})</span>
      public void testNegativeReadConstantFieldValue(ResolvedJavaField field, JavaConstant receiver) {
          CONSTANT_REFLECTION_PROVIDER.readConstantFieldValue(field, receiver);
      }
  
<span class="changed">!     @Test(dataProvider = "readConstantArrayElementDataProvider",</span>
<span class="changed">!             dataProviderClass = ReadConstantArrayElementDataProvider.class)</span>
      public void testReadConstantArrayElement(JavaConstant array, int index, JavaConstant expected, String testInfo) {
          JavaConstant actual = CONSTANT_REFLECTION_PROVIDER.readConstantArrayElement(array, index);
          Assert.assertEquals(actual == null ? "null" : actual.toString(),
                              expected == null ? "null" : expected.toString(),
                              String.format("Unexpected result while testing %s:", testInfo));
      }
  
<span class="changed">!     @Test(dataProvider = "readConstantArrayElementForOffsetDataProvider",</span>
<span class="changed">!             dataProviderClass = ReadConstantArrayElementDataProvider.class)</span>
      public void testReadConstantArrayElementForOffset(JavaConstant array, long offset, JavaConstant expected,
                                                        String testInfo) {
          JavaConstant actual = CONSTANT_REFLECTION_PROVIDER.readConstantArrayElementForOffset(array,
                                                                                               offset);
          Assert.assertEquals(actual == null ? "null" : actual.toString(),
<span class="newmarker">--- 135,172 ----</span>
          Assert.assertEquals(resultStableDim, arrayDim,
                          "Wrong array dimension for " + result.toString());
          Assert.assertEquals(result.toString(), expected.toString(), "Unexpected result:");
      }
  
<span class="changed">!     @Test(dataProvider = "readStableFieldValueNegativeDataProvider", dataProviderClass = ReadStableFieldValueDataProvider.class, expectedExceptions = {NullPointerException.class})</span>
      public void testNegativeReadStableFieldValue(ResolvedJavaField field, JavaConstant receiver, boolean isDefStab) {
          CONSTANT_REFLECTION_PROVIDER.readStableFieldValue(field, receiver, isDefStab);
      }
  
<span class="changed">!     @Test(dataProvider = "readConstantFieldValueDataProvider", dataProviderClass = ReadConstantFieldValueDataProvider.class)</span>
      public void testReadConstantFieldValue(ResolvedJavaField field, JavaConstant receiver, JavaConstant expected,
                      String testInfo) {
          String msg = String.format("Unexpected result for %s. Field is stable = %s.", testInfo,
                          ((HotSpotResolvedJavaField) field).isStable());
          Assert.assertEquals(CONSTANT_REFLECTION_PROVIDER.readConstantFieldValue(field, receiver),
                          expected, msg);
      }
  
<span class="changed">!     @Test(dataProvider = "readConstantFieldValueNegativeDataProvider", dataProviderClass = ReadConstantFieldValueDataProvider.class, expectedExceptions = {NullPointerException.class})</span>
      public void testNegativeReadConstantFieldValue(ResolvedJavaField field, JavaConstant receiver) {
          CONSTANT_REFLECTION_PROVIDER.readConstantFieldValue(field, receiver);
      }
  
<span class="changed">!     @Test(dataProvider = "readConstantArrayElementDataProvider", dataProviderClass = ReadConstantArrayElementDataProvider.class)</span>
      public void testReadConstantArrayElement(JavaConstant array, int index, JavaConstant expected, String testInfo) {
          JavaConstant actual = CONSTANT_REFLECTION_PROVIDER.readConstantArrayElement(array, index);
          Assert.assertEquals(actual == null ? "null" : actual.toString(),
                          expected == null ? "null" : expected.toString(),
                          String.format("Unexpected result while testing %s:", testInfo));
      }
  
<span class="changed">!     @Test(dataProvider = "readConstantArrayElementForOffsetDataProvider", dataProviderClass = ReadConstantArrayElementDataProvider.class)</span>
      public void testReadConstantArrayElementForOffset(JavaConstant array, long offset, JavaConstant expected,
                      String testInfo) {
          JavaConstant actual = CONSTANT_REFLECTION_PROVIDER.readConstantArrayElementForOffset(array,
                          offset);
          Assert.assertEquals(actual == null ? "null" : actual.toString(),
</pre>
<center><a href='../../../../../../../../../../test/compiler/jvmci/jdk.vm.ci.hotspot.test/src/jdk/vm/ci/hotspot/test/ForStringDataProvider.java.cdiff.html' target='_top'>&lt prev</a> <a href='../../../../../../../../../../index.html' target='_top'>index</a> <a href='../../../../../../../../../../test/compiler/jvmci/jdk.vm.ci.hotspot.test/src/jdk/vm/ci/hotspot/test/IsEmbeddableDataProvider.java.cdiff.html' target='_top'>next &gt</a></center>
</body></html>

