<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta charset="utf-8">
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="-1" />
<!--
   Note to customizers: the body of the webrev is IDed as SUNWwebrev
   to allow easy overriding by users of webrev via the userContent.css
   mechanism available in some browsers.

   For example, to have all "removed" information be red instead of
   brown, set a rule in your userContent.css file like:

       body#SUNWwebrev span.removed { color: red ! important; }
-->
<style type="text/css" media="screen">
body {
    background-color: #eeeeee;
}
hr {
    border: none 0;
    border-top: 1px solid #aaa;
    height: 1px;
}
div.summary {
    font-size: .8em;
    border-bottom: 1px solid #aaa;
    padding-left: 1em;
    padding-right: 1em;
}
div.summary h2 {
    margin-bottom: 0.3em;
}
div.summary table th {
    text-align: right;
    vertical-align: top;
    white-space: nowrap;
}
span.lineschanged {
    font-size: 0.7em;
}
span.oldmarker {
    color: red;
    font-size: large;
    font-weight: bold;
}
span.newmarker {
    color: green;
    font-size: large;
    font-weight: bold;
}
span.removed {
    color: brown;
}
span.changed {
    color: blue;
}
span.new {
    color: blue;
    font-weight: bold;
}
a.print { font-size: x-small; }

</style>

<style type="text/css" media="print">
pre { font-size: 0.8em; font-family: courier, monospace; }
span.removed { color: #444; font-style: italic }
span.changed { font-weight: bold; }
span.new { font-weight: bold; }
span.newmarker { font-size: 1.2em; font-weight: bold; }
span.oldmarker { font-size: 1.2em; font-weight: bold; }
a.print {display: none}
hr { border: none 0; border-top: 1px solid #aaa; height: 1px; }
</style>

<title>hotspot Sdiff test/compiler/jvmci/compilerToVM </title>
</head><body id="SUNWwebrev">
<center><a href='../../../../test/compiler/jvmci/compilerToVM/ConstantPoolTestCase.java.sdiff.html' target='_top'>&lt prev</a> <a href='../../../../index.html' target='_top'>index</a> <a href='../../../../test/compiler/jvmci/compilerToVM/ResolveFieldInPoolTest.java.sdiff.html' target='_top'>next &gt</a></center>
<h2>test/compiler/jvmci/compilerToVM/ConstantPoolTestsHelper.java</h2>
<a class="print" href="javascript:print()">Print this page</a>
<pre>rev <a href="https://bugs.openjdk.java.net/browse/JDK-12604">12604</a> : <a href="https://bugs.openjdk.java.net/browse/JDK-8173912">8173912</a>: [JVMCI] fix memory overhead of JVMCI</pre>

<table><tr valign="top">
<td><pre>

</pre><hr></hr><pre>
 189                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleImplementer2",
 190                                       "doubleField",
 191                                       "D",
 192                                       new byte[] {(byte) Opcodes.PUTFIELD | (byte) Opcodes.GETFIELD},
 193                                       Opcodes.ACC_TRANSIENT),
 194                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleImplementer2",
 195                                       "objectField",
 196                                       "Ljava/lang/Object;",
 197                                       new ResolvedJavaMethod[] { getMethod(getType(MultipleImplementer2.class), "&lt;init&gt;"), null },
 198                                       new byte[] {(byte) Opcodes.PUTFIELD | (byte) Opcodes.GETFIELD},
 199                                       Opcodes.ACC_FINAL),
 200                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleImplementer2",
 201                                       "stringField",
 202                                       "Ljava/lang/String;",
 203                                       new byte[] {(byte) Opcodes.PUTFIELD | (byte) Opcodes.GETFIELD},
 204                                       Opcodes.ACC_VOLATILE),
 205                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleImplementer2",
 206                                       "stringFieldEmpty",
 207                                       "Ljava/lang/String;",
 208                                       new byte[] {(byte) Opcodes.PUTFIELD | (byte) Opcodes.GETFIELD},
<span class="changed"> 209                                       0L),</span>
 210                 }
 211         );
 212         CP_MAP_FOR_CLASS.put(CONSTANT_METHODREF,
 213                 new TestedCPEntry[] {
 214                     new TestedCPEntry("java/lang/System",
 215                                       "getProperties",
 216                                       "()Ljava/util/Properties;",
 217                                       new byte[] {(byte) Opcodes.INVOKESTATIC}),
 218                     new TestedCPEntry("java/util/HashMap",
 219                                       "&lt;init&gt;",
 220                                       "()V",
 221                                       new byte[] {(byte) Opcodes.INVOKESPECIAL}),
 222                     new TestedCPEntry("java/lang/Object",
 223                                       "toString",
 224                                       "()Ljava/lang/String;",
 225                                       new byte[] {(byte) Opcodes.INVOKESPECIAL,
 226                                       (byte) Opcodes.INVOKEVIRTUAL}),
 227                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleImplementer2$1",
 228                                       "&lt;init&gt;",
 229                                       "(Lcompiler/jvmci/common/testcases/MultipleImplementer2;)V",

</pre><hr></hr><pre>
 345                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleAbstractImplementer",
 346                                       "doubleField",
 347                                       "D",
 348                                       new byte[] {(byte) Opcodes.PUTFIELD | (byte) Opcodes.GETFIELD},
 349                                       Opcodes.ACC_TRANSIENT),
 350                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleAbstractImplementer",
 351                                       "objectField",
 352                                       "Ljava/lang/Object;",
 353                                       new ResolvedJavaMethod[] { getMethod(getType(MultipleAbstractImplementer.class), "&lt;init&gt;"), null },
 354                                       new byte[] {(byte) Opcodes.PUTFIELD | (byte) Opcodes.GETFIELD},
 355                                       Opcodes.ACC_FINAL),
 356                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleAbstractImplementer",
 357                                       "stringField",
 358                                       "Ljava/lang/String;",
 359                                       new byte[] {(byte) Opcodes.PUTFIELD | (byte) Opcodes.GETFIELD},
 360                                       Opcodes.ACC_VOLATILE),
 361                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleAbstractImplementer",
 362                                       "stringFieldEmpty",
 363                                       "Ljava/lang/String;",
 364                                       new byte[] {(byte) Opcodes.PUTFIELD | (byte) Opcodes.GETFIELD},
<span class="changed"> 365                                       0L),</span>
 366                 }
 367         );
 368         CP_MAP_FOR_ABS_CLASS.put(CONSTANT_METHODREF,
 369                 new TestedCPEntry[] {
 370                     new TestedCPEntry("java/lang/System",
 371                                       "getProperties",
 372                                       "()Ljava/util/Properties;",
 373                                       new byte[] {(byte) Opcodes.INVOKESTATIC}),
 374                     new TestedCPEntry("java/util/HashMap",
 375                                       "&lt;init&gt;",
 376                                       "()V",
 377                                       new byte[] {(byte) Opcodes.INVOKESPECIAL}),
 378                     new TestedCPEntry("java/lang/Object",
 379                                       "toString",
 380                                       "()Ljava/lang/String;",
 381                                       new byte[] {(byte) Opcodes.INVOKESPECIAL,
 382                                       (byte) Opcodes.INVOKEVIRTUAL}),
 383                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleAbstractImplementer$1",
 384                                       "&lt;init&gt;",
 385                                       "(Lcompiler/jvmci/common/testcases/MultipleAbstractImplementer;)V",

</pre><hr></hr>
</pre></td><td><pre>

</pre><hr></hr><pre>
 189                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleImplementer2",
 190                                       "doubleField",
 191                                       "D",
 192                                       new byte[] {(byte) Opcodes.PUTFIELD | (byte) Opcodes.GETFIELD},
 193                                       Opcodes.ACC_TRANSIENT),
 194                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleImplementer2",
 195                                       "objectField",
 196                                       "Ljava/lang/Object;",
 197                                       new ResolvedJavaMethod[] { getMethod(getType(MultipleImplementer2.class), "&lt;init&gt;"), null },
 198                                       new byte[] {(byte) Opcodes.PUTFIELD | (byte) Opcodes.GETFIELD},
 199                                       Opcodes.ACC_FINAL),
 200                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleImplementer2",
 201                                       "stringField",
 202                                       "Ljava/lang/String;",
 203                                       new byte[] {(byte) Opcodes.PUTFIELD | (byte) Opcodes.GETFIELD},
 204                                       Opcodes.ACC_VOLATILE),
 205                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleImplementer2",
 206                                       "stringFieldEmpty",
 207                                       "Ljava/lang/String;",
 208                                       new byte[] {(byte) Opcodes.PUTFIELD | (byte) Opcodes.GETFIELD},
<span class="changed"> 209                                       0),</span>
 210                 }
 211         );
 212         CP_MAP_FOR_CLASS.put(CONSTANT_METHODREF,
 213                 new TestedCPEntry[] {
 214                     new TestedCPEntry("java/lang/System",
 215                                       "getProperties",
 216                                       "()Ljava/util/Properties;",
 217                                       new byte[] {(byte) Opcodes.INVOKESTATIC}),
 218                     new TestedCPEntry("java/util/HashMap",
 219                                       "&lt;init&gt;",
 220                                       "()V",
 221                                       new byte[] {(byte) Opcodes.INVOKESPECIAL}),
 222                     new TestedCPEntry("java/lang/Object",
 223                                       "toString",
 224                                       "()Ljava/lang/String;",
 225                                       new byte[] {(byte) Opcodes.INVOKESPECIAL,
 226                                       (byte) Opcodes.INVOKEVIRTUAL}),
 227                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleImplementer2$1",
 228                                       "&lt;init&gt;",
 229                                       "(Lcompiler/jvmci/common/testcases/MultipleImplementer2;)V",

</pre><hr></hr><pre>
 345                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleAbstractImplementer",
 346                                       "doubleField",
 347                                       "D",
 348                                       new byte[] {(byte) Opcodes.PUTFIELD | (byte) Opcodes.GETFIELD},
 349                                       Opcodes.ACC_TRANSIENT),
 350                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleAbstractImplementer",
 351                                       "objectField",
 352                                       "Ljava/lang/Object;",
 353                                       new ResolvedJavaMethod[] { getMethod(getType(MultipleAbstractImplementer.class), "&lt;init&gt;"), null },
 354                                       new byte[] {(byte) Opcodes.PUTFIELD | (byte) Opcodes.GETFIELD},
 355                                       Opcodes.ACC_FINAL),
 356                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleAbstractImplementer",
 357                                       "stringField",
 358                                       "Ljava/lang/String;",
 359                                       new byte[] {(byte) Opcodes.PUTFIELD | (byte) Opcodes.GETFIELD},
 360                                       Opcodes.ACC_VOLATILE),
 361                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleAbstractImplementer",
 362                                       "stringFieldEmpty",
 363                                       "Ljava/lang/String;",
 364                                       new byte[] {(byte) Opcodes.PUTFIELD | (byte) Opcodes.GETFIELD},
<span class="changed"> 365                                       0),</span>
 366                 }
 367         );
 368         CP_MAP_FOR_ABS_CLASS.put(CONSTANT_METHODREF,
 369                 new TestedCPEntry[] {
 370                     new TestedCPEntry("java/lang/System",
 371                                       "getProperties",
 372                                       "()Ljava/util/Properties;",
 373                                       new byte[] {(byte) Opcodes.INVOKESTATIC}),
 374                     new TestedCPEntry("java/util/HashMap",
 375                                       "&lt;init&gt;",
 376                                       "()V",
 377                                       new byte[] {(byte) Opcodes.INVOKESPECIAL}),
 378                     new TestedCPEntry("java/lang/Object",
 379                                       "toString",
 380                                       "()Ljava/lang/String;",
 381                                       new byte[] {(byte) Opcodes.INVOKESPECIAL,
 382                                       (byte) Opcodes.INVOKEVIRTUAL}),
 383                     new TestedCPEntry("compiler/jvmci/common/testcases/MultipleAbstractImplementer$1",
 384                                       "&lt;init&gt;",
 385                                       "(Lcompiler/jvmci/common/testcases/MultipleAbstractImplementer;)V",

</pre><hr></hr>
</pre></td>
</tr></table>
<center><a href='../../../../test/compiler/jvmci/compilerToVM/ConstantPoolTestCase.java.sdiff.html' target='_top'>&lt prev</a> <a href='../../../../index.html' target='_top'>index</a> <a href='../../../../test/compiler/jvmci/compilerToVM/ResolveFieldInPoolTest.java.sdiff.html' target='_top'>next &gt</a></center>
</body></html>
